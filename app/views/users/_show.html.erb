<%= render_field(image_tag(user.image.url)) %>

<%= render_heading(h(user.name)) %>

<% unless (identities = user.identities.to_sentence).blank? %>
  <%= render_field(identities) %>
<% end %>

<% if has_administrator_role? %>
  <%= render_field(t(:login, :scope => [ :authentication ]), h(user.login)) %>
<% end %>

<%= render_field(t(:joined_on, :scope => [ :authentication ]), user.created_at.to_date) %>

<%= render_field(t(:locale, :scope => [ :content ]), h(user.locale.name)) %>
  
<%= render_field(tp(:post, :scope => [ :forums ]), user.posts_count) %>
  
<%= render_field(tp(:guru_point, :scope => [ :forums ]), user.guru_points) %>

<% if has_administrator_role? %>
  <%= render_field(t(:primary_email, :scope => [ :authentication ]), h(user.email)) %>
  
  <%= render_heading(t(:administer_object, :scope => [ :authentication ], :object => h(user.name))) %>

  <%= render_field(t(:status), user.active? ? t(:enabled) : t(:disabled),
    :actions => [ { :if => (user != current_user), :allow => (user.active? ?
      link_to(t(:disable), user, :confirm => t(:are_you_sure), :method => :delete) :
      link_to(t(:enable), enable_user_path(user), :method => :put) ) } ]) %>

  <%= render_field(tp(:group, :scope => [ :authentication ]), user.groups.map(&:name),
    :actions => [ { :if => user.groups.any?, :allow => link_to(t(:view), user_groups_path(user)) } ]) %>

  <%= render_field(tp(:role, :scope => [ :authentication ]), user.roles.map(&:name),
    :actions => [ { :allow => icon_link_to(:edit, t(:edit), user_roles_path(user)) } ]) %>
<% end %>

<% unless user.contact.blank? || !user.visible_contact %>
  <%= render_heading(t(:contact, :scope => [ :contacts ])) %>
  
  <%= render :partial => 'contacts/show', :locals => { :contact => user.contact } %>
<% end %>
